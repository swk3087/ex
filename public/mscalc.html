<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>중학교 내신 계산기</title>
  <!-- 재사용되는 스타일 시트를 불러옵니다 -->
  <link rel="stylesheet" href="css/style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <!-- 내신 계산기 테이블 스타일: 엑셀처럼 칸의 테두리가 보이도록 설정 -->
  <style>
    /* 전체 테이블 설정 */
    #msForm table {
      border-collapse: collapse;
      width: 100%;
      margin-bottom: 12px;
    }
    /* 셀 테두리 */
    #msForm th, #msForm td {
      border: 1px solid #ccc;
      padding: 4px;
      text-align: left;
      vertical-align: middle;
    }
    /* 헤더 배경색 */
    #msForm th {
      background-color: #f6f6f6;
    }
    /* 과목명 열 강조 */
    #msForm td:first-child {
      background-color: #fafafa;
      font-weight: bold;
    }
    /* 입력창 기본 스타일 재정의 */
    #msForm input[type="text"] {
      width: 100%;
      box-sizing: border-box;
      border: none;
      padding: 4px;
    }
    #msForm input[type="text"]:focus {
      outline: none;
    }
  </style>
</head>
<body>
  <!-- 상단에 로그아웃 버튼과 기존 학기말 계산기로 돌아가는 링크를 제공합니다 -->
  <button id="logoutBtn" onclick="logout()">로그아웃</button>
  <button id="gotoDashboard" onclick="location.href='dashboard.html'">학기말 계산기</button>

  <h2>중학교 내신 계산기</h2>

  <!-- 안내 문구: 입력 방법 설명 -->
  <p id="inputNotice" style="margin-top:10px; font-size:0.9em; color:#555;">
    ※ 원점수나 성취도 점수가 없는 과목의 경우 <strong>@</strong> 기호를 입력하면 해당 과목은 평균 계산에서 제외됩니다. 점수를 입력하지 않으면 기본 값이 사용됩니다.
  </p>

  <!-- 교과 입력 영역 -->
  <div id="msForm"></div>

  <!-- 비교과 활동 입력 영역 -->
  <h3>비교과 활동</h3>
  <div id="extraInputs">
    <!-- 출결 현황 -->
    <fieldset>
      <legend>출결 상황 (미인정 지각·조퇴 3회 = 미인정 결석 1일)</legend>
      <table>
        <tr>
          <th>학년</th>
          <th>미인정 지각·조퇴 (횟수)</th>
          <th>미인정 결석 (일수)</th>
        </tr>
        <tr>
          <td>1학년</td>
          <td><input type="number" id="tardy1" min="0" value="0"></td>
          <td><input type="number" id="absent1" min="0" value="0"></td>
        </tr>
        <tr>
          <td>2학년</td>
          <td><input type="number" id="tardy2" min="0" value="0"></td>
          <td><input type="number" id="absent2" min="0" value="0"></td>
        </tr>
        <tr>
          <td>3학년</td>
          <td><input type="number" id="tardy3" min="0" value="0"></td>
          <td><input type="number" id="absent3" min="0" value="0"></td>
        </tr>
      </table>
    </fieldset>
    <!-- 봉사 시간 -->
    <fieldset>
      <legend>봉사 활동 시간 (3개년 총합)</legend>
      <input type="number" id="volunteerHours" min="0" value="0"> 시간
    </fieldset>
    <!-- 학교 활동 -->
    <fieldset>
      <legend>학교 활동</legend>
      <label>교내 수상 개수 (학기당 최대 1개만 인정): <input type="number" id="awards" min="0" value="0"></label><br>
      <label>자치회 임원 활동 기간 (월수): <input type="number" id="councilMonths" min="0" step="0.1" value="0"></label>
    </fieldset>
  </div>

  <!-- 계산 버튼 -->
  <button id="calcBtn">계산하기</button>

  <!-- 결과 표시 영역 -->
  <div id="result" style="margin-top:20px;font-weight:600;"></div>

  <!-- Firebase 초기화 스크립트 -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script>
    // 기존 프로젝트에서 사용하는 동일한 Firebase 구성을 가져옵니다.
    const firebaseConfig = {
      apiKey: "AIzaSyC35GSzG5lnuKuaB-AWmtQXCKQho9imJbs",
      authDomain: "tools-login-997dd.firebaseapp.com",
      projectId: "tools-login-997dd",
      storageBucket: "tools-login-997dd.firebasestorage.app",
      messagingSenderId: "226766047223",
      appId: "1:226766047223:web:b29ef46bb0cf0de1b610f2",
      measurementId: "G-BKCYCR9FNC"
    };
    firebase.initializeApp(firebaseConfig);
  </script>
  <script src="js/mscalc.js"></script>
</body>
</html>